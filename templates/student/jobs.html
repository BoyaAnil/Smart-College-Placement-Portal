{% extends "base.html" %}
{% block title %}Jobs{% endblock %}

{% block content %}
  <section class="bg-white border border-slate-200 rounded-lg p-6 mb-6">
    <h2 class="text-lg font-semibold mb-4">Filter Jobs</h2>
    <form method="get" class="grid md:grid-cols-4 gap-4">
      <input type="text" name="location" placeholder="Location" value="{{ filters.location }}" class="border border-slate-200 rounded-md px-3 py-2" />
      <input type="text" name="branch" placeholder="Branch" value="{{ filters.branch }}" class="border border-slate-200 rounded-md px-3 py-2" />
      <select name="job_type" class="border border-slate-200 rounded-md px-3 py-2">
        <option value="">Job type</option>
        <option value="Intern" {% if filters.job_type == "Intern" %}selected{% endif %}>Intern</option>
        <option value="Full-time" {% if filters.job_type == "Full-time" %}selected{% endif %}>Full-time</option>
      </select>
      <input type="number" step="0.1" name="min_cgpa" placeholder="Min CGPA" value="{{ filters.min_cgpa }}" class="border border-slate-200 rounded-md px-3 py-2" />
      <div class="md:col-span-4">
        <button class="bg-blue-600 text-white px-4 py-2 rounded-md">Apply Filters</button>
      </div>
    </form>
  </section>

  <section class="grid md:grid-cols-2 gap-4">
    {% for job in jobs %}
      <div class="bg-white border border-slate-200 rounded-lg p-4">
        <h3 class="font-semibold">{{ job.title }}</h3>
        <p class="text-sm text-slate-600">{{ job.company }} - {{ job.location }}</p>
        <p class="text-xs text-slate-500 mt-2">Min CGPA: {{ job.min_cgpa }} | Type: {{ job.job_type }}</p>
        <a href="{% url 'student_job_detail' job.id %}" class="text-blue-600 text-sm mt-3 inline-block">View details</a>
      </div>
    {% empty %}
      <p class="text-slate-600">No jobs found.</p>
    {% endfor %}
  </section>
{% endblock %}
